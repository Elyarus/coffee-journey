"use strict";function ownKeys(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,o)}return e}function _objectSpread(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(e,!0).forEach(function(t){_defineProperty(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ownKeys(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function _defineProperty(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var carrito=JSON.parse(localStorage.getItem("carrito"))||[],productosContainer=document.querySelector(".productos-container"),contadorCarrito=document.createElement("span");function actualizarContador(){var t=carrito.reduce(function(t,r){return t+r.cantidad},0);contadorCarrito.textContent=0<t?"Carrito: ".concat(t):""}contadorCarrito.id="contador-carrito",contadorCarrito.style.marginLeft="10px",contadorCarrito.style.fontWeight="bold",document.querySelector("nav ul").appendChild(contadorCarrito);var carritoSection=document.getElementById("carrito"),carritoProductosDiv=document.getElementById("carrito-productos"),carritoTotalP=document.getElementById("carrito-total"),botonVaciar=document.getElementById("vaciar-carrito");function mostrarCarrito(){if(carritoProductosDiv.innerHTML="",0===carrito.length)return carritoProductosDiv.innerHTML="<p>El carrito está vacío.</p>",void(carritoTotalP.textContent="");carrito.forEach(function(t,e){var r=document.createElement("div");r.classList.add("producto-carrito"),r.style.border="1px solid #b67b5b",r.style.padding="10px",r.style.marginBottom="10px",r.style.display="flex",r.style.justifyContent="space-between",r.style.alignItems="center",r.innerHTML="\n      <div>\n        <strong>".concat(t.title,"</strong><br/>\n        Precio unitario: $").concat(t.price.toFixed(2),'<br/>\n        Cantidad: <input type="number" min="1" value="').concat(t.cantidad,'" style="width: 50px;" />\n      </div>\n      <button>Eliminar</button>\n    '),r.querySelector("input").addEventListener("change",function(t){var r=parseInt(t.target.value);1<=r?(carrito[e].cantidad=r,guardarActualizar()):t.target.value=carrito[e].cantidad}),r.querySelector("button").addEventListener("click",function(){carrito.splice(e,1),guardarActualizar(),mostrarCarrito(),actualizarContador()}),carritoProductosDiv.appendChild(r)});var t=carrito.reduce(function(t,r){return t+r.price*r.cantidad},0);carritoTotalP.textContent="Total: $".concat(t.toFixed(2))}function guardarActualizar(){localStorage.setItem("carrito",JSON.stringify(carrito)),actualizarContador(),mostrarCarrito()}function cargarProductos(){var r,e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,regeneratorRuntime.awrap(fetch("cafes.json"));case 3:return r=t.sent,t.next=6,regeneratorRuntime.awrap(r.json());case 6:e=t.sent,productosContainer.innerHTML="",e.forEach(function(t){var r=document.createElement("div");r.classList.add("producto"),r.innerHTML='\n        <img src="'.concat(t.image,'" alt="').concat(t.title,'" />\n        <h3>').concat(t.title,"</h3>\n        <p>Precio: $").concat(t.price,"</p>\n        <button>Agregar al carrito</button>\n      "),r.querySelector("button").addEventListener("click",function(){return agregarAlCarrito(t)}),productosContainer.appendChild(r)}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error al cargar productos:",t.t0),productosContainer.innerHTML="<p>No se pudieron cargar los productos.</p>";case 15:case"end":return t.stop()}},null,null,[[0,11]])}function agregarAlCarrito(r){var t=carrito.find(function(t){return t.id===r.id});t?t.cantidad++:carrito.push(_objectSpread({},r,{cantidad:1})),localStorage.setItem("carrito",JSON.stringify(carrito)),actualizarContador(),mostrarCarrito(),alert('Agregaste "'.concat(r.title,'" al carrito.'))}botonVaciar.addEventListener("click",function(){carrito=[],guardarActualizar()}),mostrarCarrito(),cargarProductos(),actualizarContador();
//# sourceMappingURL=script.min.js.map
