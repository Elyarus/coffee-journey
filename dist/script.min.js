"use strict";function ownKeys(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,o)}return e}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(e,!0).forEach(function(r){_defineProperty(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ownKeys(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function _defineProperty(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var carrito=JSON.parse(localStorage.getItem("carrito"))||[],productosContainer=document.querySelector(".productos-container"),contadorCarrito=document.createElement("span");function actualizarContador(){var r=carrito.reduce(function(r,t){return r+t.cantidad},0);contadorCarrito.textContent=0<r?"Carrito: ".concat(r):""}contadorCarrito.id="contador-carrito",contadorCarrito.style.marginLeft="10px",contadorCarrito.style.fontWeight="bold",document.querySelector("nav ul").appendChild(contadorCarrito);var carritoSection=document.getElementById("carrito"),carritoProductosDiv=document.getElementById("carrito-productos"),carritoTotalP=document.getElementById("carrito-total"),botonVaciar=document.getElementById("vaciar-carrito");function mostrarCarrito(){if(carritoProductosDiv.innerHTML="",0===carrito.length)return carritoProductosDiv.innerHTML="<p>El carrito está vacío.</p>",void(carritoTotalP.textContent="");carrito.forEach(function(r,e){var t=document.createElement("div");t.classList.add("producto-carrito"),t.style.border="1px solid #b67b5b",t.style.padding="10px",t.style.marginBottom="10px",t.style.display="flex",t.style.justifyContent="space-between",t.style.alignItems="center",t.innerHTML="\n      <div>\n        <strong>".concat(r.title,"</strong><br/>\n        Precio unitario: $").concat(r.price.toFixed(2),'<br/>\n        Cantidad: <input type="number" min="1" value="').concat(r.cantidad,'" style="width: 50px;" />\n      </div>\n      <button>Eliminar</button>\n    '),t.querySelector("input").addEventListener("change",function(r){var t=parseInt(r.target.value);1<=t?(carrito[e].cantidad=t,guardarActualizar()):r.target.value=carrito[e].cantidad}),t.querySelector("button").addEventListener("click",function(){carrito.splice(e,1),guardarActualizar(),mostrarCarrito(),actualizarContador()}),carritoProductosDiv.appendChild(t)});var r=carrito.reduce(function(r,t){return r+t.price*t.cantidad},0);carritoTotalP.textContent="Total: $".concat(r.toFixed(2))}function guardarActualizar(){localStorage.setItem("carrito",JSON.stringify(carrito)),actualizarContador(),mostrarCarrito()}function cargarProductos(){var t,e;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(fetch("cafes.json"));case 3:return t=r.sent,r.next=6,regeneratorRuntime.awrap(t.json());case 6:e=r.sent,productosContainer.innerHTML="",e.forEach(function(r){var t=document.createElement("div");t.classList.add("producto"),t.innerHTML='\n        <img src="'.concat(r.image,'" alt="').concat(r.title,'" />\n        <h3>').concat(r.title,"</h3>\n        <p>Precio: $").concat(r.price,"</p>\n        <button>Agregar al carrito</button>\n      "),t.querySelector("button").addEventListener("click",function(){return agregarAlCarrito(r)}),productosContainer.appendChild(t)}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.error("Error al cargar productos:",r.t0),productosContainer.innerHTML="<p>No se pudieron cargar los productos.</p>";case 15:case"end":return r.stop()}},null,null,[[0,11]])}function agregarAlCarrito(t){var r=carrito.find(function(r){return r.id===t.id});r?r.cantidad++:carrito.push(_objectSpread({},t,{cantidad:1})),localStorage.setItem("carrito",JSON.stringify(carrito)),actualizarContador(),mostrarCarrito(),alert('Agregaste "'.concat(t.title,'" al carrito.'))}botonVaciar.addEventListener("click",function(){carrito=[],guardarActualizar()}),mostrarCarrito();var formulario=document.querySelector(".formulario-contacto");formulario.addEventListener("submit",function(r){r.preventDefault();var t=formulario.nombre.value.trim(),e=formulario.email.value.trim(),o=formulario.mensaje.value.trim(),a=[];""===t&&a.push("El nombre es obligatorio."),""===e?a.push("El correo electrónico es obligatorio."):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||a.push("El correo electrónico no tiene un formato válido."),""===o&&a.push("El mensaje es obligatorio."),0<a.length?alert(a.join("\n")):formulario.submit()}),cargarProductos(),actualizarContador();
//# sourceMappingURL=script.min.js.map
